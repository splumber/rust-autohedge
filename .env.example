# OpenAI Configuration
# OPENAI_API_KEY=sk-your-openai-api-key-here
# Optional: Set this if using a local LLM like Ollama or LM Studio
OPENAI_BASE_URL=http://localhost:11434/v1
LLM_MODEL=qwen3-coder:30b

# Alpaca Configuration (Get these from https://alpaca.markets/)
APCA_API_KEY_ID=your-alpaca-key-here
APCA_API_SECRET_KEY=your-alpaca-secret-here
# Default to paper trading
APCA_API_BASE_URL=https://paper-api.alpaca.markets

# Trading Configuration
# Options: stocks, crypto
# Note: Crypto uses "gtc" (Good Till Canceled) time_in_force, stocks use "day"
TRADING_MODE=crypto
# Comma-separated list of symbols to trade
TRADING_SYMBOLS=DOGE/USD,XRP/USD,SHIB/USD,LTC/USD,DOT/USD,SOL/USD

# Logging Level (info, debug, error)
RUST_LOG=info

# How chatty the bot should be (low, normal, verbose)
CHATTER_LEVEL=normal

# System Configuration
# Max number of requests waiting in queue
LLM_QUEUE_SIZE=100
# Max number of parallel requests to LLM provider
LLM_MAX_CONCURRENT=3
# Number of candles to keep in memory for analysis
MARKET_HISTORY_LIMIT=50
# Minimum number of candles required before trading starts
WARMUP_MIN_COUNT=50
# Minimum dollar amount per trade (Alpaca requires $10 minimum)
MIN_ORDER_AMOUNT=10.0
# Maximum dollar amount per trade (Risk Manager)
MAX_ORDER_AMOUNT=100.0
# Number of quotes to wait after no_trade decision before re-analyzing symbol
NO_TRADE_COOLDOWN_QUOTES=10

# Strategy Mode
# - llm: original Director->Quant LLM pipeline (slower)
# - hft: deterministic micro-strategy (fast)
# - hybrid: run HFT fast-path; use LLM for slow-path gating (coming next)
STRATEGY_MODE=hft

# HFT / Micro-fluctuation knobs
# Evaluate the HFT strategy once every N quotes per symbol (debounce)
HFT_EVALUATE_EVERY_QUOTES=5
# Minimum required edge in basis points before entering (e.g. 15 bps = 0.15%)
HFT_MIN_EDGE_BPS=15.0
# Take-profit target in basis points (100 bps = 1.00%)
HFT_TAKE_PROFIT_BPS=100.0
# Stop-loss in basis points (50 bps = 0.50%)
HFT_STOP_LOSS_BPS=50.0
# Max allowed spread in basis points to trade (skip if wider)
HFT_MAX_SPREAD_BPS=25.0

# Exit monitoring
# If true, PositionMonitor evaluates TP/SL on every quote event (lower latency)
# If false, uses the polling loop.
EXIT_ON_QUOTES=true

# Hybrid mode LLM gating (used when STRATEGY_MODE=hybrid)
# Refresh the LLM gate decision once every N quotes per symbol.
# Larger = fewer LLM calls.
HYBRID_GATE_REFRESH_QUOTES=300
# If the director returns no_trade, pause HFT entries for this many additional quotes.
HYBRID_NO_TRADE_COOLDOWN_QUOTES=100

# Exchange selection
# Options: alpaca, binance, coinbase, kraken
EXCHANGE=alpaca

# Coinbase Advanced Trade (placeholders)
# COINBASE_API_KEY=your-coinbase-key-here
# COINBASE_API_SECRET=your-coinbase-secret-here
# COINBASE_API_BASE_URL=https://api.coinbase.com

# Kraken Spot (placeholders)
# KRAKEN_API_KEY=your-kraken-key-here
# KRAKEN_API_SECRET=your-kraken-secret-here
# KRAKEN_API_BASE_URL=https://api.kraken.com

# Binance Spot (placeholders)
# BINANCE_API_KEY=your-binance-key-here
# BINANCE_API_SECRET=your-binance-secret-here
# BINANCE_API_BASE_URL=https://api.binance.com

# ============================================================
# Keep-Alive Service (Prevents free-tier hosting from sleeping)
# ============================================================
# Set this to your production URL to enable automatic keep-alive pinging
# Examples:
# - Railway: https://your-app.railway.app
# - Render: https://your-app.onrender.com
# - Heroku: https://your-app.herokuapp.com
# - Local: http://localhost:3000
# KEEP_ALIVE_URL=https://your-app.railway.app

# Optional: Custom cron schedule (default: "*/10 * * * * *" = every 10 seconds)
# Cron format: "second minute hour day month weekday"
# Examples:
# - Every 10 seconds:  "*/10 * * * * *"  (default - aggressive)
# - Every 30 seconds:  "*/30 * * * * *"  (less aggressive)
# - Every 1 minute:    "0 * * * * *"     (conservative)
# KEEP_ALIVE_CRON=*/10 * * * * *

